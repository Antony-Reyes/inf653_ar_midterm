# Set the ServerName to prevent Apache warnings
ServerName localhost

# Define the document root
DocumentRoot /var/www/html

# Configure directory permissions
<Directory /var/www/html>
    Options -Indexes +FollowSymLinks
    AllowOverride All
    Require all granted
    DirectoryIndex index.php index.html
</Directory>

# Enable mod_rewrite for pretty URLs (if using frameworks like Laravel)
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule>

# Log file locations
ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined

# Enable PHP processing
<FilesMatch \.php$>
    SetHandler application/x-httpd-php
</FilesMatch>

# Disable directory listing for security
<Directory />
    Options -Indexes
    AllowOverride None
    Require all denied
</Directory>

# Secure headers for better security
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
</IfModule>

# Increase request limits if handling large data uploads
<IfModule mod_php.c>
    php_value upload_max_filesize 64M
    php_value post_max_size 64M
    php_value max_execution_time 300
    php_value memory_limit 256M
</IfModule>
